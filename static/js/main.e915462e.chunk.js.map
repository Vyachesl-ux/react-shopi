{"version":3,"sources":["image/add-to-cart.svg","store/cartSlice.js","components/AddToCart.js","components/Goods.js","store/GoodsSlilce.js","container/GoodsList.js","image/bin.svg","components/Trash.js","components/Cart.js","components/BackToStore.js","container/CartList.js","App.js","reportWebVitals.js","store/index.js","index.js"],"names":["cartSlice","createSlice","name","initialState","value","reducers","increment","state","data","articul","payload","undefined","decrement","deleteItem","actions","selectCart","cart","AddToCart","useSelector","cartValue","Object","keys","map","item","forEach","to","className","src","Icon","alt","width","Goods","props","image","title","costs","data-key","GoodsSlice","goods","goodsArr","selectGoods","GoodsList","dispatch","useDispatch","onClick","event","preventDefault","s","target","classList","contains","getAttribute","cost","Trash","bin","dataKey","Cart2","price","BackToStore","CartList","goodsObj","reduce","accum","console","log","sum","countSum","colSpan","App","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","configureStore","reducer","goodsReducer","cartReducer","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.e915462e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/add-to-cart.97226d53.svg\";","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState: {\r\n    value: {},\r\n  },\r\n  reducers: {\r\n    increment: (state, data) => {\r\n      let articul = data.payload;\r\n      if (state.value[articul] === undefined) state.value[articul] = 0;\r\n      state.value[articul]++;\r\n    },\r\n    decrement: (state, data) => {\r\n      let articul = data.payload;\r\n      state.value[articul]--;\r\n      if (state.value[articul] === 0) delete state.value[articul];\r\n    },\r\n    deleteItem: (state, data) => {delete state.value[data.payload]},\r\n  },\r\n});\r\nexport const { decrement, increment, deleteItem } = cartSlice.actions;\r\nexport const selectCart = (state) => state.cart.value;\r\nexport default cartSlice.reducer;\r\n","import React from \"react\";\r\nimport Icon from \"../image/add-to-cart.svg\";\r\nimport { selectCart } from \"../store/cartSlice\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function AddToCart() {\r\n  const cart = useSelector(selectCart);\r\n  let cartValue = 0;\r\n  let count = Object.keys(cart).map((item) => cart[item]);\r\n  count.forEach((item) => (cartValue += item));\r\n\r\n  return (\r\n    <Link to='/cartlist'>\r\n      <div className=\"cart\">\r\n        <div className=\"cart-image\">\r\n          <img src={Icon} alt=\"cart icon\" width={40} />\r\n        </div>\r\n        <div className=\"cart-count\">{cartValue}</div>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Goods(props) {\r\n   return (\r\n      <div className='goods-block'>\r\n         <img src={props.image} alt={props.title} />\r\n         <p>{props.title}</p>\r\n         <p>{props.costs}</p>\r\n         <button className='add-to-cart' data-key={props.articul}>Add to cart</button>\r\n      </div>\r\n   )\r\n}\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport goodsArr from \"../data/goods.json\";\r\n\r\nconst GoodsSlice = createSlice({\r\n  name: \"goods\",\r\n  initialState: {\r\n    goods: goodsArr,\r\n  },\r\n  reducers: {},\r\n});\r\n\r\nexport const {} = GoodsSlice.actions;\r\nexport const selectGoods = (state) => state.goods.goods;\r\nexport default GoodsSlice.reducer;\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Goods from \"../components/Goods\";\r\nimport { increment } from \"../store/cartSlice\";\r\nimport { selectGoods } from \"../store/GoodsSlilce\";\r\n\r\nexport default function GoodsList() {\r\n  const goods = useSelector(selectGoods);\r\n  const dispatch = useDispatch();\r\n\r\n   let clickHandler = (event) => {\r\n      event.preventDefault();\r\n      let s = event.target;\r\n      if(!s.classList.contains('add-to-cart')) return true;\r\n      dispatch(increment(s.getAttribute('data-key')))\r\n   }  \r\n\r\n  return (\r\n    <div className=\"goods-field\" onClick={clickHandler}>\r\n      {goods.map((item) => (\r\n        <Goods\r\n          title={item.title}\r\n          costs={item.cost}\r\n          image={item.image}\r\n          articul={item.articul}\r\n          key={item.articul}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bin.6ed4065e.svg\";","import bin from \"../image/bin.svg\";\r\n\r\nexport const Trash = (props) => {\r\n  return (\r\n    <div className='trash-can'>\r\n      <img src={bin} alt=\"trash container\" width='30' className='trash' data-key={props.dataKey}/>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Trash } from \"./Trash\";\r\n\r\nexport default function Cart2(props) {\r\n  return (\r\n    <>\r\n      <tr key={props.articul}>\r\n        <td>\r\n          <div className=\"td-wrap\">\r\n            <img src={props.image} alt={props.title} width=\"30\" />\r\n            <div>{props.title}</div>\r\n          </div>\r\n        </td>\r\n        <td>{props.cost}</td>\r\n        <td>{props.price}</td>\r\n        <td>{props.cost * props.price}</td>\r\n        <td>\r\n          <button className=\"substr\" data-key={props.articul}>\r\n            -\r\n          </button>\r\n        </td>\r\n        <td>\r\n          <Trash dataKey={props.articul} />\r\n        </td>\r\n      </tr>\r\n    </>\r\n  );\r\n}\r\n","import { Link } from \"react-router-dom\";\r\n\r\nexport const BackToStore = () => {\r\n  return (\r\n\r\n    <Link to='/react-shopping-cart'>\r\n      <button className='return-btn'>Back to shoping</button>\r\n    </Link>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { decrement, deleteItem, selectCart } from \"../store/cartSlice\";\r\nimport { selectGoods } from \"../store/GoodsSlilce\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Cart from \"../components/Cart\";\r\nimport { BackToStore } from \"../components/BackToStore\";\r\n\r\nexport function CartList() {\r\n  const goods = useSelector(selectGoods);\r\n  const cart = useSelector(selectCart);\r\n  const dispatch = useDispatch();\r\n\r\n  const goodsObj = goods.reduce((accum, item) => {\r\n    accum[item[\"articul\"]] = item;\r\n    return accum;\r\n  }, {});\r\n  console.log(goodsObj);\r\n\r\n  let clickHandler = (event) => {\r\n    event.preventDefault();\r\n    console.log(event.target);\r\n    let s = event.target;\r\n    if (s.classList.contains(\"substr\"))\r\n      dispatch(decrement(s.getAttribute(\"data-key\")));\r\n    if (s.classList.contains(\"trash\"))\r\n      dispatch(deleteItem(s.getAttribute(\"data-key\")));\r\n  };\r\n\r\n  // culculating of the purchase total\r\n\r\n  let sum = Object.keys(cart).map(\r\n    (item) => `${goodsObj[item][\"cost\"]}` * `${cart[item]}`\r\n  );\r\n  let countSum = 0;\r\n  sum.forEach((item) => {\r\n    countSum += item;\r\n  });\r\n\r\n  return (\r\n    <div onClick={clickHandler}>\r\n      <BackToStore />\r\n      <table>\r\n        <tbody>\r\n          <tr>\r\n            <th>Product</th>\r\n            <th>Price<br />per item</th>\r\n            <th>Amount</th>\r\n            <th>Price</th>\r\n            <th>Substruct one piece</th>\r\n            <th>Remove item</th>\r\n          </tr>\r\n          {Object.keys(cart).map((item) => (\r\n            <Cart key={goodsObj[item]['articul']}\r\n              image={goodsObj[item][\"image\"]}\r\n              title={goodsObj[item][\"title\"]}\r\n              cost={goodsObj[item][\"cost\"]}\r\n              price={cart[item]}\r\n              articul={goodsObj[item][\"articul\"]}\r\n            />\r\n          ))}\r\n          <tr>\r\n            <th colSpan=\"3\">Total:</th>\r\n            <td colSpan=\"3\">{countSum}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n","import \"./App.css\";\nimport AddToCart from \"./components/AddToCart\";\n// import Cart from \"./components/Cart\";\nimport GoodsList from \"./container/GoodsList\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { CartList } from \"./container/CartList\";\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <h3>Redux</h3>\n      <Router>\n        <AddToCart />\n        <hr />\n        <Switch>\n          <Route exact path=\"/react-shopping-cart\" component={GoodsList} />\n          <Route path=\"/cartlist\" component={CartList} />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport goodsReducer from \"./GoodsSlilce\";\r\nimport cartReducer from './cartSlice'\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    goods: goodsReducer,\r\n    cart: cartReducer\r\n  },\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport {Provider} from 'react-redux'\nimport store from './store'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}